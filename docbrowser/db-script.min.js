document.addEventListener("DOMContentLoaded",function(e){var t=document.getElementById("nav-tree");var n=document.getElementById("nav-primary");var a;if(t.dataset.key){try{a=JSON.parse(sessionStorage.getItem(t.dataset.key))}catch(e){}}if(!a)a={};window.addEventListener("beforeunload",function(e){if(t.dataset.key){a.tocScrollPos=n.scrollTop;a.tocState=d();sessionStorage.setItem(t.dataset.key,JSON.stringify(a))}});if(t.dataset.autoexpanders!=undefined){var r=t.querySelectorAll("div");for(var i=0;i<r.length;i++){if(r[i].parentElement!=t){r[i].classList.add("expander")}}}var l=t.querySelectorAll("div.expander > label");for(var i=0;i<l.length;i++){var o=document.createElement("span");o.classList.add("chevron");l[i].insertBefore(o,l[i].childNodes[0]);l[i].addEventListener("click",c);var s=l[i].parentNode;if(!s.id)s.id=u(s)}function c(e){if(!t.classList.contains("filterActive")){e.target.parentElement.classList.toggle("expanded")}}function d(){var e=[];var n=t.querySelectorAll("div.expander.expanded");for(var a=0;a<n.length;a++)e.push(n[a].id);return e}function f(e){var n=t.querySelectorAll("div.expander.expanded");for(var a=0;a<n.length;a++)n[a].classList.remove("expanded");for(var a=0;a<e.length;a++){var r=document.getElementById(e[a]);if(r){r.classList.add("expanded")}}}function v(e){var t="";for(var n=0;n<e.length;n++){var a=e[n];if(a>="A"&&a<="Z"||a>="a"&&a<="z"||a>="0"&&a<="9"||a=="-"||a=="_"||a==":"||a=="."){t+=a}else if(a==" ")t+="_"}return t}function u(e){if(e==t)return"nav";var n=u(e.parentElement);if(!e.classList.contains("expander"))return n;var a=e.querySelector("label");var r;if(a.parentNode==e){r=v(a.innerText)}if(!r){var i=e.parentElement.childNodes;for(var l=0;l<i.length;l++){if(i[l]==e){r=""+l;break}}}return n+"-"+r}document.getElementById("nav-content").classList.remove("hidden");var m=true;if(a.tocState){f(a.tocState);m=false}var h;if(a.tocScrollPos){if(window.getComputedStyle(n,"").display=="none"){h=a.tocScrollPos}n.scrollTop=a.tocScrollPos;m=false}var p=t.querySelectorAll("a");for(var i=0;i<p.length;i++){var g=window.location.origin+window.location.pathname;if(p[i].href==g){var L=p[i].parentElement;if(L.matches("li"))L.classList.add("active");if(m){while(L!=null&&L!=t){if(L.matches("div.expander"))L.classList.add("expanded");L=L.parentElement}p[i].scrollIntoView({block:"nearest"})}break}}var y=document.querySelector("#nav-filter");y.addEventListener("input",function(e){E(e.target.value)});if(y.value.length>0)E(y.value);function E(e){e=e.toLowerCase();t.classList.toggle("filterActive",e.length>0);var n=t.querySelectorAll(".match");for(var a=0;a<n.length;a++){n[a].classList.remove("match")}if(e.length==0)return;var r=t.querySelectorAll("li");for(var a=0;a<r.length;a++){var i=r[a].querySelector("a");var l=i.dataset.filterText;if(l===undefined)l=i.innerText;if(l.toLowerCase().indexOf(e)>=0){var o=i;while(o!=t){if(o.classList.contains("match"))break;o.classList.add("match");S(o);o=o.parentElement}}}}function S(e){while(e!=null){if(e.tagName=="LABEL"&&e.parentElement.parentElement==t){e.classList.add("match");return}e=e.previousElementSibling;if(e&&e.classList.contains("match"))return}}var x=document.querySelectorAll("article h1, article h2, article h3");var w=[];var A=document.getElementById("nav-secondary");var k=false;if(A){for(var i=0;i<x.length;i++){var b=x[i].id;if(!b)continue;k=true;var L=document.createElement("a");L.setAttribute("href","#"+b);var T=x[i].dataset.navSecondaryText;if(!T)T=x[i].innerText;L.innerText=T;L.addEventListener("click",I(i));w.push(L);A.appendChild(L)}if(!k){A.classList.add("hidden")}else{document.addEventListener("scroll",N);N()}}for(var i=0;i<x.length;i++){if(x[i].id){var L=document.createElement("a");L.setAttribute("href","#"+x[i].id);L.classList.add("anchor-link");L.innerHTML='<i class="icon-link" aria-hidden="true"></i>';x[i].appendChild(L)}}var q=false;function I(e){return function(){q=true;window.setTimeout(function(){q=false;B(e)},50)}}function B(e){if(q)return;if(e>=w.length)return;if(!w[e].classList.contains("selected")){for(var t=0;t<w.length;t++){w[t].classList.toggle("selected",t==e)}}}function N(){B(C())}function C(){var e=window.scrollY;for(var t=1;t<x.length;t++){if(x[t].offsetTop>e+50)return t-1}return t-1}document.getElementById("show-nav-button").addEventListener("click",function(e){document.body.classList.toggle("nav-popup-active");if(h){n.scrollTop=h;h=null}return true})});
//# sourceMappingURL=db-script.min.js.map